# ğŸ”´ 4. Testing ÄÆ¡n Giáº£n trong JavaScript

> âœ… Há»c cÃ¡ch kiá»ƒm tra hoáº¡t Ä‘á»™ng cá»§a code Ä‘á»ƒ trÃ¡nh bug, Ä‘áº·c biá»‡t khi lÃ m viá»‡c nhÃ³m hoáº·c dá»± Ã¡n lá»›n.

---

## ğŸ§ª 1. Táº¡i sao cáº§n test?

- Äáº£m báº£o code cháº¡y Ä‘Ãºng (hiá»‡n táº¡i vÃ  sau nÃ y).
- Tá»± tin khi refactor hoáº·c thÃªm tÃ­nh nÄƒng.
- PhÃ¡t hiá»‡n bug sá»›m.

---

## âœ… 2. Kiá»ƒu test Ä‘Æ¡n giáº£n nháº¥t

Sá»­ dá»¥ng `console.assert`:

```js
function add(a, b) {
  return a + b;
}

console.assert(add(2, 3) === 5, "Test 1 Failed");
console.assert(add(0, 0) === 0, "Test 2 Failed");
console.assert(add(-1, 1) === 0, "Test 3 Failed");
```

Náº¿u Ä‘iá»u kiá»‡n sai â†’ log lá»—i ra console.

---

## ğŸ§° 3. Tá»± viáº¿t hÃ m test nhá»

```js
function test(description, callback) {
  try {
    callback();
    console.log("âœ…", description);
  } catch (error) {
    console.error("âŒ", description);
    console.error(error);
  }
}

// VÃ­ dá»¥:
test("HÃ m cá»™ng hoáº¡t Ä‘á»™ng Ä‘Ãºng", () => {
  if (add(1, 2) !== 3) throw new Error("Lá»—i logic");
});
```

---

## ğŸ“¦ 4. DÃ¹ng thÆ° viá»‡n test: Jest

> CÃ i báº±ng Node.js:  
> `npm install --save-dev jest`

VÃ­ dá»¥:

```js
// add.js
function add(a, b) {
  return a + b;
}
module.exports = add;

// add.test.js
const add = require("./add");

test("cá»™ng 1 + 2 pháº£i báº±ng 3", () => {
  expect(add(1, 2)).toBe(3);
});
```

Cháº¡y test:

```
npx jest
```

---

## ğŸ§  5. CÃ¡c hÃ m kiá»ƒm tra thÆ°á»ng dÃ¹ng

| HÃ m            | Ã nghÄ©a                           |
| -------------- | --------------------------------- |
| `toBe()`       | So sÃ¡nh giÃ¡ trá»‹ tuyá»‡t Ä‘á»‘i (`===`) |
| `toEqual()`    | So sÃ¡nh object/array              |
| `toBeTruthy()` | GiÃ¡ trá»‹ Ä‘Ãºng                      |
| `toBeFalsy()`  | GiÃ¡ trá»‹ sai                       |
| `toContain()`  | CÃ³ chá»©a pháº§n tá»­                   |

---

## ğŸ›  6. Test DOM báº±ng JS

```js
function createButton(text) {
  const btn = document.createElement("button");
  btn.textContent = text;
  return btn;
}

test("Táº¡o nÃºt cÃ³ text Ä‘Ãºng", () => {
  const btn = createButton("Click me");
  if (btn.textContent !== "Click me") throw new Error("Sai ná»™i dung nÃºt");
});
```

---

## ğŸ¯ TÃ³m táº¯t

- Báº¯t Ä‘áº§u vá»›i `console.assert`, sau Ä‘Ã³ nÃ¢ng lÃªn `test()` tá»± viáº¿t.
- ThÆ° viá»‡n phá»• biáº¿n: Jest (cho Node/React).
- Kiá»ƒm tra hÃ m vÃ  DOM giÃºp code báº¡n **an toÃ n vÃ  tin cáº­y hÆ¡n**.
- Testing = viáº¿t code Ä‘á»ƒ kiá»ƒm tra code âœ¨

---
